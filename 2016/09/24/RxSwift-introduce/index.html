<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="swift," />





  <link rel="alternate" href="/atom.xml" title="jamy.gush" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="IntroductionRXæ˜¯é€šè¿‡è§‚å¯Ÿåºåˆ—ç»„æˆçš„å¼‚æ­¥å’ŒåŸºäºäº‹ä»¶çš„ç¨‹åºï¼ŒRx æ˜¯Reactive Extensionsçš„ä¸€éƒ¨åˆ†ï¼ŒåŒç³»åˆ—çš„è¿˜æœ‰RXJava,RXJSç­‰ RXç³»åˆ—ã€‚RXæ‰©å±•äº†è§‚å¯Ÿè€…æ¨¡å¼,æ”¯æŒæ•°æ®å’Œäº‹ä»¶åºåˆ—ï¼Œå¹¶å¢åŠ äº†ä¸€äº›æ“ä½œä½¿å¾—æˆ‘ä»¬å¯ä»¥å°†è¿™äº›åºåˆ—ç»„æˆåœ¨ä¸€èµ·ã€‚ é¦–å…ˆç”±ä¸€ç‚¹è¦è¯´æ˜çš„æ˜¯ï¼ŒRXæ˜¯å‡½æ•°å¼çš„ï¼Œä¹Ÿæ˜¯å“åº”å¼çš„ï¼Œä½†å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„Functional Reactive Programmin">
<meta name="keywords" content="swift">
<meta property="og:type" content="article">
<meta property="og:title" content="RxSwiftç³»åˆ—ç¬”è®°-å…¥é—¨">
<meta property="og:url" content="http://yoursite.com/2016/09/24/RxSwift-introduce/index.html">
<meta property="og:site_name" content="jamy.gush">
<meta property="og:description" content="IntroductionRXæ˜¯é€šè¿‡è§‚å¯Ÿåºåˆ—ç»„æˆçš„å¼‚æ­¥å’ŒåŸºäºäº‹ä»¶çš„ç¨‹åºï¼ŒRx æ˜¯Reactive Extensionsçš„ä¸€éƒ¨åˆ†ï¼ŒåŒç³»åˆ—çš„è¿˜æœ‰RXJava,RXJSç­‰ RXç³»åˆ—ã€‚RXæ‰©å±•äº†è§‚å¯Ÿè€…æ¨¡å¼,æ”¯æŒæ•°æ®å’Œäº‹ä»¶åºåˆ—ï¼Œå¹¶å¢åŠ äº†ä¸€äº›æ“ä½œä½¿å¾—æˆ‘ä»¬å¯ä»¥å°†è¿™äº›åºåˆ—ç»„æˆåœ¨ä¸€èµ·ã€‚ é¦–å…ˆç”±ä¸€ç‚¹è¦è¯´æ˜çš„æ˜¯ï¼ŒRXæ˜¯å‡½æ•°å¼çš„ï¼Œä¹Ÿæ˜¯å“åº”å¼çš„ï¼Œä½†å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„Functional Reactive Programmin">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/publishsubject.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/replaysubject.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/behaviorsubject.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/startwith.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/merge.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/zip.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/combinelatest.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/switch.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/map.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/flatmap.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/scan.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/filter.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/distinct.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/elementat.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/take.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/takelast.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/takeuntil.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/takeuntil.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/skip.png">
<meta property="og:image" content="http://reactivex.io/documentation/operators/images/skipWhile.c.png">
<meta property="og:image" content="http://reactivex.io/documentation/operators/images/to.c.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/reduce.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/concat.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/catch.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/catch.png">
<meta property="og:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/retry.png">
<meta property="og:updated_time" content="2018-02-06T10:15:31.842Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RxSwiftç³»åˆ—ç¬”è®°-å…¥é—¨">
<meta name="twitter:description" content="IntroductionRXæ˜¯é€šè¿‡è§‚å¯Ÿåºåˆ—ç»„æˆçš„å¼‚æ­¥å’ŒåŸºäºäº‹ä»¶çš„ç¨‹åºï¼ŒRx æ˜¯Reactive Extensionsçš„ä¸€éƒ¨åˆ†ï¼ŒåŒç³»åˆ—çš„è¿˜æœ‰RXJava,RXJSç­‰ RXç³»åˆ—ã€‚RXæ‰©å±•äº†è§‚å¯Ÿè€…æ¨¡å¼,æ”¯æŒæ•°æ®å’Œäº‹ä»¶åºåˆ—ï¼Œå¹¶å¢åŠ äº†ä¸€äº›æ“ä½œä½¿å¾—æˆ‘ä»¬å¯ä»¥å°†è¿™äº›åºåˆ—ç»„æˆåœ¨ä¸€èµ·ã€‚ é¦–å…ˆç”±ä¸€ç‚¹è¦è¯´æ˜çš„æ˜¯ï¼ŒRXæ˜¯å‡½æ•°å¼çš„ï¼Œä¹Ÿæ˜¯å“åº”å¼çš„ï¼Œä½†å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„Functional Reactive Programmin">
<meta name="twitter:image" content="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/publishsubject.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2016/09/24/RxSwift-introduce/"/>





  <title>RxSwiftç³»åˆ—ç¬”è®°-å…¥é—¨ | jamy.gush</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">jamy.gush</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/24/RxSwift-introduce/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="jamy_gu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="jamy.gush">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">RxSwiftç³»åˆ—ç¬”è®°-å…¥é—¨</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-09-24T10:10:36+08:00">
                2016-09-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/09/24/RxSwift-introduce/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/09/24/RxSwift-introduce/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>RXæ˜¯é€šè¿‡è§‚å¯Ÿåºåˆ—ç»„æˆçš„å¼‚æ­¥å’ŒåŸºäºäº‹ä»¶çš„ç¨‹åºï¼ŒRx æ˜¯Reactive Extensionsçš„ä¸€éƒ¨åˆ†ï¼ŒåŒç³»åˆ—çš„è¿˜æœ‰RXJava,RXJSç­‰ <a href="http://reactivex.io/intro.html" target="_blank" rel="noopener">RXç³»åˆ—</a>ã€‚RXæ‰©å±•äº†<a href="https://en.wikipedia.org/wiki/Observer_pattern" target="_blank" rel="noopener">è§‚å¯Ÿè€…æ¨¡å¼</a>,æ”¯æŒæ•°æ®å’Œäº‹ä»¶åºåˆ—ï¼Œå¹¶å¢åŠ äº†ä¸€äº›æ“ä½œä½¿å¾—æˆ‘ä»¬å¯ä»¥å°†è¿™äº›åºåˆ—ç»„æˆåœ¨ä¸€èµ·ã€‚</p>
<p>é¦–å…ˆç”±ä¸€ç‚¹è¦è¯´æ˜çš„æ˜¯ï¼ŒRXæ˜¯å‡½æ•°å¼çš„ï¼Œä¹Ÿæ˜¯å“åº”å¼çš„ï¼Œä½†å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„Functional Reactive Programming<a href="https://github.com/conal/talk-2015-essence-and-origins-of-frp" target="_blank" rel="noopener">FRP</a>ã€‚<br><a id="more"></a></p>
<h3 id="Why-RXswift"><a href="#Why-RXswift" class="headerlink" title="Why RXswift"></a>Why RXswift</h3><p>åœ¨æˆ‘ä»¬å¹³æ—¶çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå½“å¤„ç†äº‹ä»¶å“åº”çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé€šè¿‡ä¸åŒçš„æ–¹å¼å»å¤„ç†ï¼Œå¦‚ä½¿ç”¨KVO,Delegateç›‘å¬å±æ€§å€¼å˜åŒ–ï¼Œ<code>@IBAction</code>å¤„ç†handleäº‹ä»¶ã€‚è¿™å‡ ç§ä¸åŒçš„æ–¹å¼å¤„ç†æ— ç–‘å¢åŠ äº†ä»£ç çš„å¤æ‚åº¦ï¼ŒRXSwiftå’ŒRACæä¾›äº†è¿™æ ·çš„è§£å†³æ–¹æ¡ˆï¼šæŠŠäº‹ä»¶çš„äº§ç”Ÿå’Œå“åº”å¤„ç†ç»Ÿä¸€ã€‚</p>
<h3 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h3><p><code>Observable</code>æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ä¸­çš„è¢«è§‚å¯Ÿè€…å¯¹è±¡ï¼Œç›¸å½“äºä¸€ä¸ªäº‹ä»¶<code>Sequence</code>åºåˆ—ï¼Œswiftçš„<code>Sequence</code>å¯ä»¥å¼‚æ­¥çš„æ¥æ”¶å…ƒç´ ï¼Œè¿™æ˜¯RXSwiftçš„æœ¬è´¨ï¼Œå…¶ä»–çš„éƒ½æ˜¯åŸºäºè¿™ä¸ªæ‰©å±•çš„ã€‚<code>observer</code>æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ä¸­çš„è§‚å¯Ÿè€…å¯¹è±¡(subscribersè®¢é˜…è€…)ã€‚è¿™ä¸¤ä¸ªæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå¯è§‚å¯Ÿè€…åºåˆ—é‡Œé¢çš„é—­åŒ…è¦æœ‰è§‚å¯Ÿè€…è®¢é˜…çš„æ—¶å€™æ‰æ‰§è¡Œ,ä½†æ˜¯å¦‚æœæœ‰è®¢é˜…è€…è®¢é˜…äº†è¯¥ä¿¡å·ï¼Œåˆ™ä¼šæ‰§è¡Œç›¸åº”çš„é—­åŒ…ï¼Œè®¢é˜…è€…å°±å¯ä»¥æ¥æ”¶ä¿¡å·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">example(&quot;Observable with subscriber&quot;) &#123;</span><br><span class="line">  _ = Observable&lt;String&gt;.create &#123; observerOfString in</span><br><span class="line">            print(&quot;Observable created&quot;)</span><br><span class="line">            observerOfString.on(.next(&quot;ğŸ˜‰&quot;))</span><br><span class="line">            observerOfString.on(.completed)</span><br><span class="line">            return Disposables.create()</span><br><span class="line">        &#125;</span><br><span class="line">        .subscribe &#123; event in</span><br><span class="line">            print(event)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">--- Observable with subscriber example ---</span><br><span class="line">Observable created</span><br><span class="line">next(ğŸ˜‰)</span><br><span class="line">completed</span><br></pre></td></tr></table></figure>
<p>äº‹ä»¶ä¿¡æ¯ä¸»è¦åˆ†ä¸ºä¸‹é¢3ç§ï¼š</p>
<ul>
<li>.Next(Element) è¡¨ç¤ºæ–°çš„äº‹ä»¶åºåˆ—ã€‚</li>
<li>.Completed è¡¨ç¤ºäº‹ä»¶åºåˆ—çš„ç»“æŸã€‚</li>
<li>.Error è¡¨ç¤ºå¼‚å¸¸å‘ç”Ÿå¯¼è‡´çš„åºåˆ—ç»“æŸã€‚</li>
</ul>
<h2 id="åˆ›å»ºå’Œè®¢é˜…Observable"><a href="#åˆ›å»ºå’Œè®¢é˜…Observable" class="headerlink" title="åˆ›å»ºå’Œè®¢é˜…Observable"></a>åˆ›å»ºå’Œè®¢é˜…<code>Observable</code></h2><h3 id="never"><a href="#never" class="headerlink" title="never"></a><code>never</code></h3><p>åˆ›å»ºä¸€ä¸ªä¸ä¼šå‘é€ä»»ä½•ä¿¡å·å’Œç»“æŸçš„åºåˆ—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;never&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    let neverSequence = Observable&lt;String&gt;.never()</span><br><span class="line">    </span><br><span class="line">    let neverSequenceSubscription = neverSequence</span><br><span class="line">        .subscribe &#123; _ in</span><br><span class="line">            print(&quot;This will never be printed&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    neverSequenceSubscription.addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">&gt; nothing</span><br></pre></td></tr></table></figure>
<h3 id="empty"><a href="#empty" class="headerlink" title="empty"></a><code>empty</code></h3><p>åˆ›å»ºä¸€ä¸ªç©ºçš„åºåˆ—ï¼Œåªå‘é€.completedä¿¡å·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;empty&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable&lt;Int&gt;.empty()</span><br><span class="line">        .subscribe &#123; event in</span><br><span class="line">            print(event)</span><br><span class="line">        &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">&gt; completed</span><br></pre></td></tr></table></figure>
<h3 id="just"><a href="#just" class="headerlink" title="just"></a><code>just</code></h3><p>åˆ›å»ºä¸€ä¸ªåªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„åºåˆ—ï¼Œå®ƒä¼šå…ˆå‘é€ .Next(Element) ï¼Œç„¶åå‘é€ .Completedï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;just&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.just(&quot;ğŸ”´&quot;)</span><br><span class="line">        .subscribe &#123; event in</span><br><span class="line">            print(event)</span><br><span class="line">        &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- just example ---</span><br><span class="line">next(ğŸ”´)</span><br><span class="line">completed</span><br></pre></td></tr></table></figure>
<h3 id="of"><a href="#of" class="headerlink" title="of"></a><code>of</code></h3><p>åˆ›å»ºä¸€ä¸ªåŒ…å«å›ºå®šå…ƒç´ çš„åºåˆ—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;of&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(&quot;ğŸ¶&quot;, &quot;ğŸ±&quot;, &quot;ğŸ­&quot;, &quot;ğŸ¹&quot;)</span><br><span class="line">        .subscribe(onNext: &#123; element in</span><br><span class="line">            print(element)</span><br><span class="line">        &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- of example ---</span><br><span class="line">ğŸ¶</span><br><span class="line">ğŸ±</span><br><span class="line">ğŸ­</span><br><span class="line">ğŸ¹</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ³¨æ„åˆ°è®¢é˜…ä¿¡å·çš„æ—¶å€™æ²¡æœ‰ä½¿ç”¨ä¹‹å‰çš„é—­åŒ…ï¼Œè€Œæ˜¯ä½¿ç”¨äº†<code>subscribe(onNext:)</code>ä¾¿æ·æ–¹æ³•ï¼Œä¹‹å‰çš„<code>subscribe(_:)</code>å¯ä»¥å¤„ç†æ‰€æœ‰çš„äº‹ä»¶ç±»å‹(next,error,completed)ï¼Œä½†æ˜¯<code>subscribe(onNext:)</code>åªä¼šå¤„ç†nextäº‹ä»¶ï¼Œè€Œå¿½ç•¥å…¶ä»–çš„äº‹ä»¶ã€‚åŒç†RXSwiftè¿˜æä¾›äº†<code>subscribe(onError:)</code>åŠ<code>subscribe(onCompleted:)</code>å¿«æ·æ–¹æ³•ã€‚</p>
<h3 id="from"><a href="#from" class="headerlink" title="from"></a><code>from</code></h3><p>æŠŠswiftä¸­çš„<code>Sequence</code>( <code>Array</code>, <code>Dictionary</code>,  <code>Set</code>)è½¬åŒ–ä¸ºäº‹ä»¶åºåˆ—ï¼Œå…³äº<code>Sequence</code>ç›¸å…³çš„ä»‹ç»ï¼Œè¯·æŸ¥çœ‹ä¸Šä¸€ç¯‡åšå®¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;from&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.from([&quot;ğŸ¶&quot;, &quot;ğŸ±&quot;, &quot;ğŸ­&quot;, &quot;ğŸ¹&quot;])</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- from example ---</span><br><span class="line">ğŸ¶</span><br><span class="line">ğŸ±</span><br><span class="line">ğŸ­</span><br><span class="line">ğŸ¹</span><br></pre></td></tr></table></figure>
<h3 id="create"><a href="#create" class="headerlink" title="create"></a><code>create</code></h3><p>å¯ä»¥é€šè¿‡createåˆ›å»ºè‡ªå®šä¹‰çš„äº‹ä»¶åºåˆ—ï¼Œåœ¨é—­åŒ…é‡Œé¢é€šè¿‡.onæ–¹æ³•æ·»åŠ äº‹ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;create&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    let myJust = &#123; (element: String) -&gt; Observable&lt;String&gt; in</span><br><span class="line">        return Observable.create &#123; observer in</span><br><span class="line">            observer.on(.next(element))</span><br><span class="line">            observer.on(.completed)</span><br><span class="line">            return Disposables.create()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    myJust(&quot;ğŸ”´&quot;)</span><br><span class="line">        .subscribe &#123; print($0) &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- create example ---</span><br><span class="line">next(ğŸ”´)</span><br><span class="line">completed</span><br></pre></td></tr></table></figure>
<h3 id="range"><a href="#range" class="headerlink" title="range"></a><code>range</code></h3><p>åˆ›å»ºä¸€ä¸ªå¯ä»¥å‘é€ä¸€ç³»åˆ—è¿ç»­æ•´æ•°çš„æ—¶é—´åºåˆ—ï¼Œæœ€åå‘é€.completedäº‹ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;range&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.range(start: 1, count: 10)</span><br><span class="line">        .subscribe &#123; print($0) &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- range example ---</span><br><span class="line">next(1)</span><br><span class="line">next(2)</span><br><span class="line">next(3)</span><br><span class="line">...</span><br><span class="line">completed</span><br></pre></td></tr></table></figure>
<h3 id="repeatElement"><a href="#repeatElement" class="headerlink" title="repeatElement"></a><code>repeatElement</code></h3><p>åˆ›å»ºä¸€ä¸ªå¯ä»¥é‡å¤å‘é€ç›¸åŒå…ƒç´ çš„äº‹ä»¶åºåˆ—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;repeatElement&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.repeatElement(&quot;ğŸ”´&quot;)</span><br><span class="line">        .take(3)</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- repeatElement example ---</span><br><span class="line">ğŸ”´</span><br><span class="line">ğŸ”´</span><br><span class="line">ğŸ”´</span><br></pre></td></tr></table></figure>
<p>takeæ“ä½œè¿”å›æŒ‡å®šæ•°é‡çš„äº‹ä»¶åºåˆ—å¼€å§‹çš„å…ƒç´ ã€‚</p>
<h3 id="generate"><a href="#generate" class="headerlink" title="generate"></a><code>generate</code></h3><p>åˆ›å»ºä¸€ä¸ªäº‹ä»¶åºåˆ—ï¼Œå‘é€åˆ°å…ƒç´ æ˜¯ç¬¦åˆæŒ‡å®šçš„æ¡ä»¶çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;generate&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.generate(</span><br><span class="line">            initialState: 0,</span><br><span class="line">            condition: &#123; $0 &lt; 3 &#125;,</span><br><span class="line">            iterate: &#123; $0 + 1 &#125;</span><br><span class="line">        )</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- generate example ---</span><br><span class="line">0</span><br><span class="line">1</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<h3 id="deferred"><a href="#deferred" class="headerlink" title="deferred"></a><code>deferred</code></h3><p>ä¸ºæ¯ä¸€ä¸ªè®¢é˜…è€…åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹ä»¶åºåˆ—ï¼Œå°±æ˜¯è¯´æ¯ä¸ªè®¢é˜…è€…è®¢é˜…çš„å¯¹è±¡éƒ½æ˜¯å†…å®¹ç›¸åŒè€Œå®Œå…¨ç‹¬ç«‹çš„åºåˆ—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    var count = 1</span><br><span class="line">    </span><br><span class="line">    let deferredSequence = Observable&lt;String&gt;.deferred &#123;</span><br><span class="line">        print(&quot;Creating \(count)&quot;)</span><br><span class="line">        count += 1</span><br><span class="line">        </span><br><span class="line">        return Observable.create &#123; observer in</span><br><span class="line">            print(&quot;Emitting...&quot;)</span><br><span class="line">            observer.onNext(&quot;ğŸ¶&quot;)</span><br><span class="line">            observer.onNext(&quot;ğŸ±&quot;)</span><br><span class="line">            observer.onNext(&quot;ğŸµ&quot;)</span><br><span class="line">            return Disposables.create()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    deferredSequence</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">    </span><br><span class="line">    deferredSequence</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- deferred example ---</span><br><span class="line">Creating 1</span><br><span class="line">Emitting...</span><br><span class="line">ğŸ¶</span><br><span class="line">ğŸ±</span><br><span class="line">ğŸµ</span><br><span class="line">Creating 2</span><br><span class="line">Emitting...</span><br><span class="line">ğŸ¶</span><br><span class="line">ğŸ±</span><br><span class="line">ğŸµ</span><br></pre></td></tr></table></figure>
<h3 id="error"><a href="#error" class="headerlink" title="error"></a><code>error</code></h3><p>åˆ›å»ºä¸€ä¸ªäº‹ä»¶åºåˆ—ï¼Œä¸å‘é€ä»»ä½•äº‹ä»¶ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›.errorç„¶åç»“æŸã€‚</p>
<h2 id="Subjects"><a href="#Subjects" class="headerlink" title="Subjects"></a>Subjects</h2><p>subjectå¯ä»¥çœ‹åšæ˜¯ä¸€ç§æ¡¥æ¢æˆ–è€…ä»£ç†ã€‚åœ¨RXSwiftä¸­å®ƒæ—¢å¯ä»¥ä½œä¸ºè¢«è§‚å¯Ÿè€…ä¹Ÿå¯ä»¥æ˜¯è§‚å¯Ÿè€…ã€‚è¿™å°±æ„å‘³ç€subjectå¯ä»¥è®¢é˜…å…¶ä»–<code>Observable</code>å¯¹è±¡ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å‘è®¢é˜…è€…å‘é€äº‹ä»¶åºåˆ—<a href="http://reactivex.io/documentation/subject.html" target="_blank" rel="noopener">æ›´å¤š</a>ã€‚åœ¨å¼€å§‹ä»‹ç»æ¡ˆä¾‹ä¹‹å‰å…ˆå®šä¹‰å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">extension ObservableType &#123;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     Add observer with `id` and print each emitted event.</span><br><span class="line">     - parameter id: an identifier for the subscription.</span><br><span class="line">     */</span><br><span class="line">    func addObserver(_ id: String) -&gt; Disposable &#123;</span><br><span class="line">        return subscribe &#123; print(&quot;Subscription:&quot;, id, &quot;Event:&quot;, $0) &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func writeSequenceToConsole&lt;O: ObservableType&gt;(name: String, sequence: O) -&gt; Disposable &#123;</span><br><span class="line">    return sequence.subscribe &#123; event in</span><br><span class="line">        print(&quot;Subscription: \(name), event: \(event)&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="PublishSubject"><a href="#PublishSubject" class="headerlink" title="PublishSubject"></a><code>PublishSubject</code></h3><p>å‘å½“å‰æ‰€æœ‰çš„è®¢é˜…è€…å‘é€æ–°çš„äº‹ä»¶ï¼Œç±»ä¼¼äºå¹¿æ’­~<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/publishsubject.png" alt="" title="PublishSubject"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;PublishSubject&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    let subject = PublishSubject&lt;String&gt;()</span><br><span class="line">    </span><br><span class="line">    subject.addObserver(&quot;1&quot;).addDisposableTo(disposeBag)</span><br><span class="line">    subject.onNext(&quot;ğŸ¶&quot;)</span><br><span class="line">    subject.onNext(&quot;ğŸ±&quot;)</span><br><span class="line">    </span><br><span class="line">    subject.addObserver(&quot;2&quot;).addDisposableTo(disposeBag)</span><br><span class="line">    subject.onNext(&quot;ğŸ…°ï¸&quot;)</span><br><span class="line">    subject.onNext(&quot;ğŸ…±ï¸&quot;)</span><br><span class="line">&#125;</span><br><span class="line">--- PublishSubject example ---</span><br><span class="line">Subscription: 1 Event: next(ğŸ¶)</span><br><span class="line">Subscription: 1 Event: next(ğŸ±)</span><br><span class="line">Subscription: 1 Event: next(ğŸ…°ï¸)</span><br><span class="line">Subscription: 2 Event: next(ğŸ…°ï¸)</span><br><span class="line">Subscription: 1 Event: next(ğŸ…±ï¸)</span><br><span class="line">Subscription: 2 Event: next(ğŸ…±ï¸)</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„äº‹ä¾‹ä¸­ä½¿ç”¨äº†<code>onNext(_:)</code>æ–¹æ³•ï¼Œç­‰åŒäº<code>on(.next(_:)</code>æ–¹æ³•ï¼Œå‘å½“å‰çš„è®¢é˜…è€…å‘é€ä¸€ä¸ªnextäº‹ä»¶ã€‚ç±»ä¼¼çš„è¿˜æœ‰<code>onError(_:)</code> ,<code>onCompleted()</code>ã€‚</p>
<h3 id="ReplaySubject"><a href="#ReplaySubject" class="headerlink" title="ReplaySubject"></a><code>ReplaySubject</code></h3><p>å’Œä¸Šé¢çš„<code>PublishSubject</code>ç±»ä¼¼ï¼Œå‘æ‰€æœ‰çš„è®¢é˜…è€…å‘é€æ–°çš„äº‹ä»¶ã€‚ä¸åŒçš„æ˜¯<code>ReplaySubject</code>å¯ä»¥æŒ‡å®šå‘æ–°çš„è®¢é˜…è€…å‘é€ä¹‹å‰çš„äº‹ä»¶ï¼Œå‚æ•°<code>bufferSize</code>æ˜¯ç¼“å†²åŒºçš„å¤§å°ï¼Œå†³å®šäº†è¡¥å‘äº‹ä»¶çš„æœ€å¤§å€¼ï¼š<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/replaysubject.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;ReplaySubject&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    let subject = ReplaySubject&lt;String&gt;.create(bufferSize: 1)</span><br><span class="line">    </span><br><span class="line">    subject.addObserver(&quot;1&quot;).addDisposableTo(disposeBag)</span><br><span class="line">    subject.onNext(&quot;ğŸ¶&quot;)</span><br><span class="line">    subject.onNext(&quot;ğŸ±&quot;)</span><br><span class="line">    </span><br><span class="line">    subject.addObserver(&quot;2&quot;).addDisposableTo(disposeBag)</span><br><span class="line">    subject.onNext(&quot;ğŸ…°ï¸&quot;)</span><br><span class="line">    subject.onNext(&quot;ğŸ…±ï¸&quot;)</span><br><span class="line">&#125;</span><br><span class="line">--- ReplaySubject example ---</span><br><span class="line">Subscription: 1 Event: next(ğŸ¶)</span><br><span class="line">Subscription: 1 Event: next(ğŸ±)</span><br><span class="line">Subscription: 2 Event: next(ğŸ±)</span><br><span class="line">Subscription: 1 Event: next(ğŸ…°ï¸)</span><br><span class="line">Subscription: 2 Event: next(ğŸ…°ï¸)</span><br><span class="line">Subscription: 1 Event: next(ğŸ…±ï¸)</span><br><span class="line">Subscription: 2 Event: next(ğŸ…±ï¸)</span><br></pre></td></tr></table></figure>
<h3 id="BehaviorSubject"><a href="#BehaviorSubject" class="headerlink" title="BehaviorSubject"></a><code>BehaviorSubject</code></h3><p>ä¹Ÿæ˜¯å‘æ‰€æœ‰çš„è®¢é˜…è€…å‘é€æ–°çš„äº‹ä»¶ï¼Œä¸åŒçš„æ˜¯åœ¨æ–°çš„è®¢é˜…è€…è®¢é˜…çš„æ—¶å€™ä¼šå‘é€æœ€è¿‘å‘é€çš„äº‹ä»¶ï¼Œå¦‚æœæ²¡æœ‰çš„è¯åˆ™å‘é€é»˜è®¤å€¼ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/behaviorsubject.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;BehaviorSubject&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    let subject = BehaviorSubject(value: &quot;ğŸ”´&quot;)</span><br><span class="line">    </span><br><span class="line">    subject.addObserver(&quot;1&quot;).addDisposableTo(disposeBag)</span><br><span class="line">    subject.onNext(&quot;ğŸ¶&quot;)</span><br><span class="line">    subject.onNext(&quot;ğŸ±&quot;)</span><br><span class="line">    </span><br><span class="line">    subject.addObserver(&quot;2&quot;).addDisposableTo(disposeBag)</span><br><span class="line">    subject.onNext(&quot;ğŸ…°ï¸&quot;)</span><br><span class="line">    subject.onNext(&quot;ğŸ…±ï¸&quot;)</span><br><span class="line">    </span><br><span class="line">    subject.addObserver(&quot;3&quot;).addDisposableTo(disposeBag)</span><br><span class="line">    subject.onNext(&quot;ğŸ&quot;)</span><br><span class="line">    subject.onNext(&quot;ğŸŠ&quot;)</span><br><span class="line">&#125;</span><br><span class="line">--- BehaviorSubject example ---</span><br><span class="line">Subscription: 1 Event: next(ğŸ”´)</span><br><span class="line">Subscription: 1 Event: next(ğŸ¶)</span><br><span class="line">Subscription: 1 Event: next(ğŸ±)</span><br><span class="line">Subscription: 2 Event: next(ğŸ±)</span><br><span class="line">Subscription: 1 Event: next(ğŸ…°ï¸)</span><br><span class="line">Subscription: 2 Event: next(ğŸ…°ï¸)</span><br><span class="line">Subscription: 1 Event: next(ğŸ…±ï¸)</span><br><span class="line">Subscription: 2 Event: next(ğŸ…±ï¸)</span><br><span class="line">Subscription: 3 Event: next(ğŸ…±ï¸)</span><br><span class="line">Subscription: 1 Event: next(ğŸ)</span><br><span class="line">Subscription: 2 Event: next(ğŸ)</span><br><span class="line">Subscription: 3 Event: next(ğŸ)</span><br><span class="line">Subscription: 1 Event: next(ğŸŠ)</span><br><span class="line">Subscription: 2 Event: next(ğŸŠ)</span><br><span class="line">Subscription: 3 Event: next(ğŸŠ)</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„å‡ ä¸ªæ¡ˆä¾‹ä¸­ï¼Œå¥½åƒç»“æœå°‘äº†ä¸€ä¸ª<code>completed</code>äº‹ä»¶ï¼Œ <code>PublishSubject</code>, <code>ReplaySubject</code>, <code>BehaviorSubject</code> é»˜è®¤ä¸å‘é€<code>completed</code>äº‹ä»¶ã€‚</p>
<h3 id="Variable"><a href="#Variable" class="headerlink" title="Variable"></a><code>Variable</code></h3><p><code>Variable</code>æ˜¯åŸºäº<code>BehaviorSubject</code>çš„ä¸€å±‚å°è£…ï¼Œæ‰€ä»¥ä¹Ÿä¼šå‘æ–°çš„è®¢é˜…è€…å‘é€æœ€è¿‘å‘é€çš„äº‹ä»¶ï¼ŒåŒæ ·ä¹Ÿç»´æŒå½“å‰å€¼çš„çŠ¶æ€ã€‚ <code>Variable</code>ä¸ä¼šå‘é€<code>Error</code>äº‹ä»¶ï¼Œä½†æ˜¯ä¼šè‡ªåŠ¨å‘é€Completedäº‹ä»¶å¹¶åœ¨<code>deinit</code>çš„æ—¶å€™é‡Šæ”¾ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;Variable&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    let variable = Variable(&quot;ğŸ”´&quot;)</span><br><span class="line">  variable.asObservable().addObserver(&quot;1&quot;).addDisposableTo(disposeBag)</span><br><span class="line">    variable.value = &quot;ğŸ¶&quot;</span><br><span class="line">    variable.value = &quot;ğŸ±&quot;   </span><br><span class="line">  variable.asObservable().addObserver(&quot;2&quot;).addDisposableTo(disposeBag)</span><br><span class="line">    variable.value = &quot;ğŸ…°ï¸&quot;</span><br><span class="line">    variable.value = &quot;ğŸ…±ï¸&quot;</span><br><span class="line">&#125;</span><br><span class="line">--- Variable example ---</span><br><span class="line">Subscription: 1 Event: next(ğŸ”´)</span><br><span class="line">Subscription: 1 Event: next(ğŸ¶)</span><br><span class="line">Subscription: 1 Event: next(ğŸ±)</span><br><span class="line">Subscription: 2 Event: next(ğŸ±)</span><br><span class="line">Subscription: 1 Event: next(ğŸ…°ï¸)</span><br><span class="line">Subscription: 2 Event: next(ğŸ…°ï¸)</span><br><span class="line">Subscription: 1 Event: next(ğŸ…±ï¸)</span><br><span class="line">Subscription: 2 Event: next(ğŸ…±ï¸)</span><br><span class="line">Subscription: 1 Event: completed</span><br><span class="line">Subscription: 2 Event: completed</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>Variable</code>å®ä¾‹ä¸­è°ƒç”¨<code>asObservable()</code>æ–¹æ³•å¯ä»¥è®¿é—®<code>BehaviorSubject</code>äº‹ä»¶åºåˆ—ï¼Œç±»ä¼¼ä¸€ä¸ªè½¬æ¢ä¸ºå¯è§‚å¯Ÿçš„ä½œç”¨ã€‚<code>Variable</code>æ²¡æœ‰å®ç°onæ–¹æ³•ï¼Œä½†æ˜¯æä¾›äº†ä¸€ä¸ª<code>value</code>æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•è·å–å’Œè®¾ç½®å½“å‰çš„å€¼ï¼Œè®¾ç½®æ–°å€¼ä¼šæ·»åŠ åˆ°<code>BehaviorSubject</code>çš„äº‹ä»¶é˜Ÿåˆ—ä¸­ã€‚</p>
<h2 id="Combination-Operators"><a href="#Combination-Operators" class="headerlink" title="Combination Operators"></a>Combination Operators</h2><p>RXSwiftæä¾›äº†ä¸‹é¢å‡ ç§æ–¹æ³•ï¼Œå¯ä»¥æŠŠå‡ ç§åºåˆ—ç»„æˆä¸€ä¸ªæ–°çš„åºåˆ—ã€‚</p>
<h3 id="startWith"><a href="#startWith" class="headerlink" title="startWith"></a><code>startWith</code></h3><p>åœ¨å‘é€<code>Observable</code>æºäº‹ä»¶ä¹‹å‰ï¼Œå‘é€æŒ‡å®šçš„äº‹ä»¶åºåˆ—å…ƒç´ ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/startwith.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;startWith&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(&quot;ğŸ¶&quot;, &quot;ğŸ±&quot;, &quot;ğŸ­&quot;, &quot;ğŸ¹&quot;)</span><br><span class="line">        .startWith(&quot;1ï¸âƒ£&quot;)</span><br><span class="line">        .startWith(&quot;2ï¸âƒ£&quot;)</span><br><span class="line">        .startWith(&quot;3ï¸âƒ£&quot;, &quot;ğŸ…°ï¸&quot;, &quot;ğŸ…±ï¸&quot;)</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- startWith example ---</span><br><span class="line">3ï¸âƒ£</span><br><span class="line">ğŸ…°ï¸</span><br><span class="line">ğŸ…±ï¸</span><br><span class="line">2ï¸âƒ£</span><br><span class="line">1ï¸âƒ£</span><br><span class="line">ğŸ¶</span><br><span class="line">ğŸ±</span><br><span class="line">ğŸ­</span><br><span class="line">ğŸ¹</span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œ<code>startWith</code>å¯ä»¥åœ¨åè¿›å…ˆå‡ºçš„åŸºç¡€ä¸Šé“¾æ¥ã€‚</p>
<h3 id="merge"><a href="#merge" class="headerlink" title="merge"></a><code>merge</code></h3><p>æŠŠå‡ ä¸ªä¸åŒçš„<code>Observable</code>æºåºåˆ—ä¸­çš„å…ƒç´ ç»„åˆæˆä¸€ä¸ªæ–°çš„<code>Observable</code>æºåºåˆ—ï¼Œæ–°çš„<code>Observable</code>åŒæ ·å¯ä»¥å‘é€æ–°çš„å…ƒç´ ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/merge.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;merge&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    let subject1 = PublishSubject&lt;String&gt;()</span><br><span class="line">    let subject2 = PublishSubject&lt;String&gt;()</span><br><span class="line">    </span><br><span class="line">    Observable.of(subject1, subject2)</span><br><span class="line">        .merge()</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">    </span><br><span class="line">    subject1.onNext(&quot;ğŸ…°ï¸&quot;)</span><br><span class="line">    </span><br><span class="line">    subject1.onNext(&quot;ğŸ…±ï¸&quot;)</span><br><span class="line">    </span><br><span class="line">    subject2.onNext(&quot;â‘ &quot;)</span><br><span class="line">    </span><br><span class="line">    subject2.onNext(&quot;â‘¡&quot;)</span><br><span class="line">    </span><br><span class="line">    subject1.onNext(&quot;ğŸ†&quot;)</span><br><span class="line">    </span><br><span class="line">    subject2.onNext(&quot;â‘¢&quot;)</span><br><span class="line">&#125;</span><br><span class="line">--- merge example ---</span><br><span class="line">ğŸ…°ï¸</span><br><span class="line">ğŸ…±ï¸</span><br><span class="line">â‘ </span><br><span class="line">â‘¡</span><br><span class="line">ğŸ†</span><br><span class="line">â‘¢</span><br></pre></td></tr></table></figure>
<h3 id="zip"><a href="#zip" class="headerlink" title="zip"></a><code>zip</code></h3><p>æŠŠå‡ ç§ä¸åŒçš„<code>Observable</code>åºåˆ—æºç»„åˆæˆä¸€ä¸ªæ–°çš„<code>Observable</code>åºåˆ—æºï¼Œæœ€å¤šå¯ä»¥ç»„åˆ8ä¸ªã€‚å¹¶å°†ä»å¤åˆ<code>Observable</code>åºåˆ—å‘é€æ¯ä¸ªæºå¯¹åº”ç´¢å¼•åœ¨<code>Observable</code>åºåˆ—çš„å…ƒç´ ï¼Œæ¯ä¸ªæºåºåˆ—åœ¨ç´¢å¼•ä¸Šéƒ½è¦æœ‰å…ƒç´ æ‰å‘é€ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/zip.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;zip&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    let stringSubject = PublishSubject&lt;String&gt;()</span><br><span class="line">    let intSubject = PublishSubject&lt;Int&gt;()</span><br><span class="line">    </span><br><span class="line">    Observable.zip(stringSubject, intSubject) &#123; stringElement, intElement in</span><br><span class="line">        &quot;\(stringElement) \(intElement)&quot;</span><br><span class="line">        &#125;</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">    </span><br><span class="line">    stringSubject.onNext(&quot;ğŸ…°ï¸&quot;)</span><br><span class="line">    stringSubject.onNext(&quot;ğŸ…±ï¸&quot;)</span><br><span class="line">    </span><br><span class="line">    intSubject.onNext(1)</span><br><span class="line">    </span><br><span class="line">    intSubject.onNext(2)</span><br><span class="line">    </span><br><span class="line">    stringSubject.onNext(&quot;ğŸ†&quot;)</span><br><span class="line">    intSubject.onNext(3)</span><br><span class="line">&#125;</span><br><span class="line">--- zip example ---</span><br><span class="line">ğŸ…°ï¸ 1</span><br><span class="line">ğŸ…±ï¸ 2</span><br><span class="line">ğŸ† 3</span><br></pre></td></tr></table></figure>
<h3 id="combineLatest"><a href="#combineLatest" class="headerlink" title="combineLatest"></a><code>combineLatest</code></h3><p>å’Œ<code>zip</code>æ–¹æ³•ç±»ä¼¼ï¼ŒæŠŠå‡ ç§ä¸åŒçš„<code>Observable</code>åºåˆ—æºç»„åˆæˆä¸€ä¸ªæ–°çš„<code>Observable</code>åºåˆ—æºï¼Œæœ€å¤šå¯ä»¥ç»„åˆ8ä¸ªã€‚ä¸åŒçš„æ˜¯åºåˆ—å‘é€çš„æ–¹å¼ï¼Œ<code>combineLatest</code>æ˜¯å½“ç»„åˆå‰çš„ä»»ä½•ä¸€ä¸ªåºåˆ—å‘é€æ–°çš„ä¿¡å·æ—¶ï¼Œå®ƒéƒ½ä¼šç»„åˆæ¯ä¸€ä¸ª<code>Observable</code>æœ€æ–°çš„å…ƒç´ ï¼Œç„¶åå‘é€ã€‚<br>å¦‚æœå­˜åœ¨ä¸¤æ¡äº‹ä»¶é˜Ÿåˆ—ï¼Œéœ€è¦åŒæ—¶ç›‘å¬ï¼Œé‚£ä¹ˆæ¯å½“æœ‰æ–°çš„äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ï¼ŒcombineLatest ä¼šå°†æ¯ä¸ªé˜Ÿåˆ—çš„æœ€æ–°çš„ä¸€ä¸ªå…ƒç´ è¿›è¡Œåˆå¹¶ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/combinelatest.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;combineLatest&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    let stringSubject = PublishSubject&lt;String&gt;()</span><br><span class="line">    let intSubject = PublishSubject&lt;Int&gt;()</span><br><span class="line">    </span><br><span class="line">    Observable.combineLatest(stringSubject, intSubject) &#123; stringElement, intElement in</span><br><span class="line">            &quot;\(stringElement) \(intElement)&quot;</span><br><span class="line">        &#125;</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">    </span><br><span class="line">    stringSubject.onNext(&quot;ğŸ…°ï¸&quot;)</span><br><span class="line">    stringSubject.onNext(&quot;ğŸ…±ï¸&quot;)</span><br><span class="line">    intSubject.onNext(1)</span><br><span class="line">    intSubject.onNext(2)</span><br><span class="line">    stringSubject.onNext(&quot;ğŸ†&quot;)</span><br><span class="line">&#125;</span><br><span class="line">--- combineLatest example ---</span><br><span class="line">ğŸ…±ï¸ 1</span><br><span class="line">ğŸ…±ï¸ 2</span><br><span class="line">ğŸ† 2</span><br></pre></td></tr></table></figure>
<h3 id="switchLatest"><a href="#switchLatest" class="headerlink" title="switchLatest"></a><code>switchLatest</code></h3><p>å˜æ¢ç”±<code>Observable</code>åºåˆ—å‘å‡ºçš„å…ƒç´ èå…¥åˆ°<code>Observable</code>åºåˆ—,åªå‘é€æœ€æ–°æ’å…¥åˆ°åºåˆ—é‡Œé¢çš„å…ƒç´ ã€‚<br> <img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/switch.png" alt=""></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"> example(&quot;switchLatest&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    let subject1 = BehaviorSubject(value: &quot;âš½ï¸&quot;)</span><br><span class="line">    let subject2 = BehaviorSubject(value: &quot;ğŸ&quot;)</span><br><span class="line">    </span><br><span class="line">    let variable = Variable(subject1)</span><br><span class="line">        </span><br><span class="line">    variable.asObservable()</span><br><span class="line">        .switchLatest()</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">    </span><br><span class="line">    subject1.onNext(&quot;ğŸˆ&quot;)</span><br><span class="line">    subject1.onNext(&quot;ğŸ€&quot;)</span><br><span class="line">    </span><br><span class="line">    variable.value = subject2</span><br><span class="line">    </span><br><span class="line">    subject1.onNext(&quot;âš¾ï¸&quot;)</span><br><span class="line">    </span><br><span class="line">    subject2.onNext(&quot;ğŸ&quot;)</span><br><span class="line">&#125;</span><br><span class="line">--- switchLatest example ---</span><br><span class="line">âš½ï¸</span><br><span class="line">ğŸˆ</span><br><span class="line">ğŸ€</span><br><span class="line">ğŸ</span><br><span class="line">ğŸ</span><br></pre></td></tr></table></figure>
<p> åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œåœ¨è®¾ç½®<code>variable.value</code>=<code>subject2</code>ä¹‹åï¼Œå‘<code>subject1</code>ä¸­æ·»åŠ âš¾ï¸å…ƒç´ æ˜¯æ²¡æœ‰æ•ˆæœçš„ï¼Œå› ä¸ºæœ€æ–°æ’å…¥åˆ°åºåˆ—é‡Œé¢çš„<code>subject2</code>æ‰ä¼šå‘é€å…ƒç´ ã€‚</p>
<h2 id="Transforming-Operators"><a href="#Transforming-Operators" class="headerlink" title="Transforming Operators"></a>Transforming Operators</h2><p>æˆ‘ä»¬å¯ä»¥å¯¹åºåˆ—åšä¸€äº›è½¬æ¢ï¼Œç±»ä¼¼äºswiftä¸­çš„<code>squence</code>è½¬æ¢ã€‚</p>
<h3 id="map"><a href="#map" class="headerlink" title="map"></a><code>map</code></h3><p>å¯¹åºåˆ—é‡Œé¢çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œè½¬æ¢ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/map.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;map&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    Observable.of(1, 2, 3)</span><br><span class="line">        .map &#123; $0 * $0 &#125;</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- map example ---</span><br><span class="line">1</span><br><span class="line">4</span><br><span class="line">9</span><br></pre></td></tr></table></figure>
<h3 id="flatMapå’ŒflatMapLatest"><a href="#flatMapå’ŒflatMapLatest" class="headerlink" title="flatMapå’ŒflatMapLatest"></a><code>flatMap</code>å’Œ<code>flatMapLatest</code></h3><p>åœ¨swiftä¸­ï¼Œflatmapå¯ä»¥è¿‡æ»¤nilåŠé™ç»´ä½œç”¨ï¼ˆäºŒç»´æ•°ç»„è½¬æ¢ä¸ºä¸€ç»´æ•°ç»„ï¼‰ã€‚åœ¨RXSwiftä¸­ï¼Œflatmapå¯ä»¥æŠŠåºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ è½¬æ¢ä¸º<code>Observable</code>åºåˆ—ï¼Œç„¶åå†æŠŠè¿™ç»„åºåˆ—è½¬æ¢ä¸ºæ–°çš„<code>Observable</code>åºåˆ—ã€‚æ¯”å¦‚ä½ æœ‰ä¸€ä¸ª<code>Observable</code>åºåˆ—ï¼Œç„¶åè¿™ä¸ªåºåˆ—é‡Œé¢çš„å…ƒç´ åŒæ ·ä¹Ÿå¯ä»¥ä½œä¸º<code>Observable</code>åºåˆ—ï¼Œé‚£ä¹ˆä¹…å¯ä»¥ä½¿ç”¨<code>flatMap</code>è¿›è¡Œè½¬æ¢ã€‚<code>flatMap</code>å’Œ<code>flatMapLatest</code>çš„åŒºåˆ«ä¸»è¦æ˜¯<code>flatMapLatest</code>åªä¼šå¯¹æœ€åä¸€ä¸ªåŠ å…¥åºåˆ—é‡Œé¢çš„å…ƒç´ è¿›è¡Œæ“ä½œã€‚<br> <img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/flatmap.png" alt=""></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> example(&quot;flatMap and flatMapLatest&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    struct Player &#123;</span><br><span class="line">        var score: Variable&lt;Int&gt;</span><br><span class="line">    &#125;</span><br><span class="line">    let ğŸ‘¦ğŸ» = Player(score: Variable(80))</span><br><span class="line">    let ğŸ‘§ğŸ¼ = Player(score: Variable(90))</span><br><span class="line">    let player = Variable(ğŸ‘¦ğŸ»)</span><br><span class="line">    </span><br><span class="line">    player.asObservable()</span><br><span class="line">        .flatMap &#123; $0.score.asObservable() &#125; // Change flatMap to flatMapLatest and observe change in printed output</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">    </span><br><span class="line">    ğŸ‘¦ğŸ».score.value = 85</span><br><span class="line">    player.value = ğŸ‘§ğŸ¼</span><br><span class="line">    ğŸ‘¦ğŸ».score.value = 95 // Will be printed when using flatMap, but will not be printed when using flatMapLatest</span><br><span class="line">    ğŸ‘§ğŸ¼.score.value = 100</span><br><span class="line">&#125;</span><br><span class="line">--- flatMap and flatMapLatest example ---</span><br><span class="line">80</span><br><span class="line">85</span><br><span class="line">90</span><br><span class="line">95</span><br><span class="line">100</span><br></pre></td></tr></table></figure>
<p> <code>flatMapLatest</code>å®é™…ä¸Šæ˜¯<code>map</code>å’Œ<code>switchLatest</code>çš„ç»„åˆæ“ä½œã€‚</p>
<h3 id="scan"><a href="#scan" class="headerlink" title="scan"></a><code>scan</code></h3><p><code>scan</code>å’Œswifté‡Œé¢çš„reduceæ“ä½œç±»ä¼¼ï¼Œä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼ï¼Œæ¯æ¬¡çš„ç»“æœä½œä¸ºä¸‹ä¸€æ¬¡çš„è¾“å…¥å€¼ã€‚æœ€åè¿”å›æŠŠç»“æœä½œä¸ºä¸€ä¸ª<code>Observable</code>å…ƒç´ ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/scan.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;scan&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(10, 100, 1000)</span><br><span class="line">        .scan(1) &#123; aggregateValue, newValue in</span><br><span class="line">            aggregateValue + newValue</span><br><span class="line">        &#125;</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- scan example ---</span><br><span class="line">11</span><br><span class="line">111</span><br><span class="line">1111</span><br></pre></td></tr></table></figure>
<h2 id="Filtering-and-Conditional"><a href="#Filtering-and-Conditional" class="headerlink" title="Filtering and Conditional"></a>Filtering and Conditional</h2><p>ä¸‹é¢è¿™äº›æ“ä½œå¯ä»¥å¯¹å…ƒç´ è¿›è¡Œè¿‡æ»¤ã€‚</p>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a><code>filter</code></h3><p>å’Œswiftçš„æ“ä½œä¸€æ ·ï¼Œå¯¹å…ƒç´ è¿›è¡Œè¿‡æ»¤ï¼Œè¿”å›ç¬¦åˆé—­åŒ…é‡Œé¢çš„å…ƒç´ ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/filter.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;filter&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    Observable.of(</span><br><span class="line">        &quot;ğŸ±&quot;, &quot;ğŸ°&quot;, &quot;ğŸ¶&quot;,</span><br><span class="line">        &quot;ğŸ¸&quot;, &quot;ğŸ±&quot;, &quot;ğŸ°&quot;,</span><br><span class="line">        &quot;ğŸ¹&quot;, &quot;ğŸ¸&quot;, &quot;ğŸ±&quot;)</span><br><span class="line">        .filter &#123;</span><br><span class="line">            $0 == &quot;ğŸ±&quot;</span><br><span class="line">        &#125;</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- filter example ---</span><br><span class="line">ğŸ±</span><br><span class="line">ğŸ±</span><br><span class="line">ğŸ±</span><br></pre></td></tr></table></figure>
<h3 id="distinctUntilChanged"><a href="#distinctUntilChanged" class="headerlink" title="distinctUntilChanged"></a><code>distinctUntilChanged</code></h3><p>ç¦æ­¢ç”¨<code>Observable</code>åºåˆ—å‘é€é¡ºåºé‡å¤å…ƒç´ ,å³ä»–ä¼šæŠ›å¼ƒç›¸åŒçš„å…ƒç´ ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/distinct.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;distinctUntilChanged&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(&quot;ğŸ±&quot;, &quot;ğŸ·&quot;, &quot;ğŸ±&quot;, &quot;ğŸ±&quot;, &quot;ğŸ±&quot;, &quot;ğŸµ&quot;, &quot;ğŸ±&quot;)</span><br><span class="line">        .distinctUntilChanged()</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- distinctUntilChanged example ---</span><br><span class="line">ğŸ±</span><br><span class="line">ğŸ·</span><br><span class="line">ğŸ±</span><br><span class="line">ğŸµ</span><br><span class="line">ğŸ±</span><br></pre></td></tr></table></figure>
<h3 id="elementAt"><a href="#elementAt" class="headerlink" title="elementAt"></a><code>elementAt</code></h3><p>åªå‘é€æŒ‡å®šindexçš„å…ƒç´ ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/elementat.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;elementAt&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(&quot;ğŸ±&quot;, &quot;ğŸ°&quot;, &quot;ğŸ¶&quot;, &quot;ğŸ¸&quot;, &quot;ğŸ·&quot;, &quot;ğŸµ&quot;)</span><br><span class="line">        .elementAt(3)</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- elementAt example ---</span><br><span class="line">ğŸ¸</span><br></pre></td></tr></table></figure>
<h3 id="single"><a href="#single" class="headerlink" title="single"></a><code>single</code></h3><p>åªå‘é€ç¬¬ä¸€ä¸ªå…ƒç´ æˆ–è€…ç¬¬ä¸€ä¸ªç¬¦åˆé—­åŒ…æ¡ä»¶çš„å…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;single with conditions&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(&quot;ğŸ±&quot;, &quot;ğŸ°&quot;, &quot;ğŸ¶&quot;, &quot;ğŸ¸&quot;, &quot;ğŸ·&quot;, &quot;ğŸµ&quot;)</span><br><span class="line">        .single &#123; $0 == &quot;ğŸ¸&quot; &#125;</span><br><span class="line">        .subscribe &#123; print($0) &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">    </span><br><span class="line">    Observable.of(&quot;ğŸ±&quot;, &quot;ğŸ°&quot;, &quot;ğŸ¶&quot;, &quot;ğŸ±&quot;, &quot;ğŸ°&quot;, &quot;ğŸ¶&quot;)</span><br><span class="line">        .single &#123; $0 == &quot;ğŸ°&quot; &#125;</span><br><span class="line">        .subscribe &#123; print($0) &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">    </span><br><span class="line">    Observable.of(&quot;ğŸ±&quot;, &quot;ğŸ°&quot;, &quot;ğŸ¶&quot;, &quot;ğŸ¸&quot;, &quot;ğŸ·&quot;, &quot;ğŸµ&quot;)</span><br><span class="line">        .single &#123; $0 == &quot;ğŸ”µ&quot; &#125;</span><br><span class="line">        .subscribe &#123; print($0) &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- single with conditions example ---</span><br><span class="line">next(ğŸ¸)</span><br><span class="line">completed</span><br><span class="line">next(ğŸ°)</span><br><span class="line">error(Sequence contains more than one element.)</span><br><span class="line">error(Sequence doesn&apos;t contain any elements.)</span><br></pre></td></tr></table></figure>
<h3 id="take"><a href="#take" class="headerlink" title="take"></a><code>take</code></h3><p>åªå‘é€æŒ‡å®šä¸ªæ•°çš„å…ƒç´ ã€‚<br> <img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/take.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> example(&quot;take&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(&quot;ğŸ±&quot;, &quot;ğŸ°&quot;, &quot;ğŸ¶&quot;, &quot;ğŸ¸&quot;, &quot;ğŸ·&quot;, &quot;ğŸµ&quot;)</span><br><span class="line">        .take(3)</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- take example ---</span><br><span class="line">ğŸ±</span><br><span class="line">ğŸ°</span><br><span class="line">ğŸ¶</span><br></pre></td></tr></table></figure>
<h3 id="takeLast"><a href="#takeLast" class="headerlink" title="takeLast"></a><code>takeLast</code></h3><p>åŒ<code>take</code>åªå‘é€æŒ‡å®šä¸ªæ•°çš„å…ƒç´ ï¼Œä¸åŒçš„æ˜¯å®ƒä»åºåˆ—çš„æœ€åå¼€å§‹ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/takelast.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;takeLast&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(&quot;ğŸ±&quot;, &quot;ğŸ°&quot;, &quot;ğŸ¶&quot;, &quot;ğŸ¸&quot;, &quot;ğŸ·&quot;, &quot;ğŸµ&quot;)</span><br><span class="line">        .takeLast(3)</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- takeLast example ---</span><br><span class="line">ğŸ¸</span><br><span class="line">ğŸ·</span><br><span class="line">ğŸµ</span><br></pre></td></tr></table></figure>
<h3 id="takeWhile"><a href="#takeWhile" class="headerlink" title="takeWhile"></a><code>takeWhile</code></h3><p>å‘é€å…ƒç´ ä¸€ç›´åˆ°é—­åŒ…é‡Œé¢çš„æ¡ä»¶ä¸ºfalseã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/takeuntil.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;takeWhile&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(1, 2, 3, 4, 5, 6)</span><br><span class="line">        .takeWhile &#123; $0 &lt; 4 &#125;</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- takeWhile example ---</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<h3 id="takeUntil"><a href="#takeUntil" class="headerlink" title="takeUntil"></a><code>takeUntil</code></h3><p>ä»¥ä¸€ä¸ªåºåˆ—ä¸ºå‚è€ƒï¼Œå½“å‚è€ƒåºåˆ—å‘é€å…ƒç´ æ—¶ï¼Œå½“å‰çš„åºåˆ—åˆ™åœæ­¢å‘é€å…ƒç´ ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/takeuntil.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;takeUntil&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    let sourceSequence = PublishSubject&lt;String&gt;()</span><br><span class="line">    let referenceSequence = PublishSubject&lt;String&gt;()</span><br><span class="line">    </span><br><span class="line">    sourceSequence</span><br><span class="line">        .takeUntil(referenceSequence)</span><br><span class="line">        .subscribe &#123; print($0) &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">    </span><br><span class="line">    sourceSequence.onNext(&quot;ğŸ±&quot;)</span><br><span class="line">    sourceSequence.onNext(&quot;ğŸ°&quot;)</span><br><span class="line">    sourceSequence.onNext(&quot;ğŸ¶&quot;)</span><br><span class="line">    referenceSequence.onNext(&quot;ğŸ”´&quot;)</span><br><span class="line">    sourceSequence.onNext(&quot;ğŸ¸&quot;)</span><br><span class="line">    sourceSequence.onNext(&quot;ğŸ·&quot;)</span><br><span class="line">    sourceSequence.onNext(&quot;ğŸµ&quot;)</span><br><span class="line">&#125;</span><br><span class="line">--- takeUntil example ---</span><br><span class="line">next(ğŸ±)</span><br><span class="line">next(ğŸ°)</span><br><span class="line">next(ğŸ¶)</span><br><span class="line">completed</span><br></pre></td></tr></table></figure>
<h3 id="skip"><a href="#skip" class="headerlink" title="skip"></a><code>skip</code></h3><p>è·³è¿‡å‘é€æŒ‡å®šä¸ªæ•°çš„å…ƒç´ ã€‚ä»indexä¸º0å¼€å§‹è®¡ç®—ã€‚<br> <img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/skip.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;skip&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(&quot;ğŸ±&quot;, &quot;ğŸ°&quot;, &quot;ğŸ¶&quot;, &quot;ğŸ¸&quot;, &quot;ğŸ·&quot;, &quot;ğŸµ&quot;)</span><br><span class="line">        .skip(2)</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- skip example ---</span><br><span class="line">ğŸ¶</span><br><span class="line">ğŸ¸</span><br><span class="line">ğŸ·</span><br><span class="line">ğŸµ</span><br></pre></td></tr></table></figure>
<h3 id="skipWhile"><a href="#skipWhile" class="headerlink" title="skipWhile"></a><code>skipWhile</code></h3><p>ç¦æ­¢ç¬¦åˆé—­åŒ…æ¡ä»¶çš„å…ƒç´ å‘é€ã€‚<br> <img src="http://reactivex.io/documentation/operators/images/skipWhile.c.png" alt=""></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> example(&quot;skipWhile&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(1, 2, 3, 4, 5, 6)</span><br><span class="line">        .skipWhile &#123; $0 &lt; 4 &#125;</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- skipWhile example ---</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td></tr></table></figure>
<p> åŒç†è¿˜æœ‰<code>skipWhileWithIndex</code>å’Œ<code>skipUntil</code>ï¼ˆç¦æ­¢å‘é€å…ƒç´ çŸ¥é“å‚è€ƒçš„åºåˆ—å‘é€å…ƒç´ ï¼‰ã€‚è¿™é‡Œå°±ä¸ä¸€ä¸€ä»‹ç»äº†ã€‚</p>
<h2 id="Mathematical-and-Aggregate"><a href="#Mathematical-and-Aggregate" class="headerlink" title="Mathematical and Aggregate"></a>Mathematical and Aggregate</h2><p>ä¸‹é¢å‡ ç§æ–¹æ³•ä¸»è¦æ˜¯å¯¹åºåˆ—è¿›è¡Œé›†åˆæ“ä½œã€‚</p>
<h3 id="toArray"><a href="#toArray" class="headerlink" title="toArray"></a>toArray</h3><p>æŠŠå¯è§‚å¯Ÿçš„åºåˆ—è½¬æ¢ä¸ºæ•°ç»„ï¼Œç„¶åæŠŠæ•´ä¸ªæ•°ç»„ä½œä¸ºä¸€ä¸ªåºåˆ—å‘é€ï¼Œæœ€åç»ˆæ­¢ã€‚<br><img src="http://reactivex.io/documentation/operators/images/to.c.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;toArray&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.range(start: 1, count: 10)</span><br><span class="line">        .toArray()</span><br><span class="line">        .subscribe &#123; print($0) &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- toArray example ---</span><br><span class="line">next([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])</span><br><span class="line">completed</span><br></pre></td></tr></table></figure>
<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a><code>reduce</code></h3><p>è¿™ä¸ªå’Œswiftä¸­çš„ä½¿ç”¨æ–¹æ³•ä¸€æ ·ï¼Œä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼ï¼Œç„¶åæ¯æ¬¡çš„ç»“æœä½œä¸ºä¸‹ä¸€æ¬¡çš„ä¼ å…¥å€¼ã€‚æœ€åçš„ç»“æœä½œä¸ºä¸€ä¸ªåºåˆ—å‘é€ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/reduce.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;reduce&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    Observable.of(10, 100, 1000)</span><br><span class="line">        .reduce(1, accumulator: +)</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">1111</span><br></pre></td></tr></table></figure>
<h3 id="concat"><a href="#concat" class="headerlink" title="concat"></a><code>concat</code></h3><p><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/concat.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;concat&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    </span><br><span class="line">    let subject1 = BehaviorSubject(value: &quot;ğŸ&quot;)</span><br><span class="line">    let subject2 = BehaviorSubject(value: &quot;ğŸ¶&quot;)</span><br><span class="line">    let variable = Variable(subject1)</span><br><span class="line">    </span><br><span class="line">    variable.asObservable()</span><br><span class="line">        .concat()</span><br><span class="line">        .subscribe &#123; print($0) &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">    </span><br><span class="line">    subject1.onNext(&quot;ğŸ&quot;)</span><br><span class="line">    subject1.onNext(&quot;ğŸŠ&quot;)</span><br><span class="line">    variable.value = subject2</span><br><span class="line">    subject2.onNext(&quot;I would be ignored&quot;)</span><br><span class="line">    subject2.onNext(&quot;ğŸ±&quot;)</span><br><span class="line">    subject1.onCompleted()</span><br><span class="line">    subject2.onNext(&quot;ğŸ­&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Error-Handling"><a href="#Error-Handling" class="headerlink" title="Error Handling"></a>Error Handling</h2><p>ä¸‹é¢å‡ ä¸ªæ“ä½œå¯ä»¥æ•è·å¼‚å¸¸äº‹ä»¶ï¼Œå¹¶ä¸”å¯ä»¥ä»å¼‚å¸¸å‡ºæ¢å¤ã€‚</p>
<h3 id="catchErrorJustReturn"><a href="#catchErrorJustReturn" class="headerlink" title="catchErrorJustReturn"></a><code>catchErrorJustReturn</code></h3><p>æ•è·å¼‚å¸¸äº‹ä»¶ï¼Œå¹¶ä»å¼‚å¸¸å¤„æ¢å¤ï¼Œç„¶åå‘é€ä¸€ä¸ªå…ƒç´ ï¼Œæœ€åç»ˆæ­¢ã€‚<br><img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/catch.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;catchErrorJustReturn&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    let sequenceThatFails = PublishSubject&lt;String&gt;()</span><br><span class="line">    </span><br><span class="line">    sequenceThatFails</span><br><span class="line">        .catchErrorJustReturn(&quot;ğŸ˜Š&quot;)</span><br><span class="line">        .subscribe &#123; print($0) &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">        </span><br><span class="line">    sequenceThatFails.onNext(&quot;ğŸ˜¡&quot;)</span><br><span class="line">    sequenceThatFails.onNext(&quot;ğŸ”´&quot;)</span><br><span class="line">    sequenceThatFails.onError(TestError.test)</span><br><span class="line">&#125;</span><br><span class="line">--- catchErrorJustReturn example ---</span><br><span class="line">next(ğŸ˜¡)</span><br><span class="line">next(ğŸ”´)</span><br><span class="line">next(ğŸ˜Š)</span><br><span class="line">completed</span><br></pre></td></tr></table></figure>
<h3 id="catchError"><a href="#catchError" class="headerlink" title="catchError"></a><code>catchError</code></h3><p>æ•è·å¼‚å¸¸äº‹ä»¶ï¼Œå¹¶ä»å¼‚å¸¸å¤„æ¢å¤ï¼Œè¿”å›æŒ‡å®šçš„äº‹ä»¶åºåˆ—ã€‚<br> <img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/catch.png" alt=""></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> example(&quot;catchError&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    let sequenceThatFails = PublishSubject&lt;String&gt;()</span><br><span class="line">    let recoverySequence = PublishSubject&lt;String&gt;()</span><br><span class="line">    </span><br><span class="line">    sequenceThatFails</span><br><span class="line">        .catchError &#123;</span><br><span class="line">            print(&quot;Error:&quot;, $0)</span><br><span class="line">            return recoverySequence</span><br><span class="line">        &#125;</span><br><span class="line">        .subscribe &#123; print($0) &#125;</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">    </span><br><span class="line">    sequenceThatFails.onNext(&quot;ğŸ˜¡&quot;)</span><br><span class="line">    sequenceThatFails.onNext(&quot;ğŸ”´&quot;)</span><br><span class="line">    sequenceThatFails.onError(TestError.test)</span><br><span class="line">    recoverySequence.onNext(&quot;ğŸ˜Š&quot;)</span><br><span class="line">&#125;</span><br><span class="line">--- catchError example ---</span><br><span class="line">next(ğŸ˜¡)</span><br><span class="line">next(ğŸ”´)</span><br><span class="line">Error: test</span><br><span class="line">next(ğŸ˜Š)</span><br></pre></td></tr></table></figure>
<h3 id="retry"><a href="#retry" class="headerlink" title="retry"></a><code>retry</code></h3><p> é‡æ–°å°è¯•ï¼Œæ„æ€å°±æ˜¯å½“å¼‚å¸¸å‘ç”Ÿçš„æ—¶å€™ï¼Œä»å¤´å¼€å§‹å‘é€äº‹ä»¶ã€‚<br>  <img src="https://raw.githubusercontent.com/kzaher/rxswiftcontent/master/MarbleDiagrams/png/retry.png" alt=""></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">  example(&quot;retry&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    var count = 1</span><br><span class="line">    </span><br><span class="line">    let sequenceThatErrors = Observable&lt;String&gt;.create &#123; observer in</span><br><span class="line">        observer.onNext(&quot;ğŸ&quot;)</span><br><span class="line">        observer.onNext(&quot;ğŸ&quot;)</span><br><span class="line">        observer.onNext(&quot;ğŸŠ&quot;)</span><br><span class="line">        </span><br><span class="line">        if count == 1 &#123;</span><br><span class="line">            observer.onError(TestError.test)</span><br><span class="line">            print(&quot;Error encountered&quot;)</span><br><span class="line">            count += 1</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        observer.onNext(&quot;ğŸ¶&quot;)</span><br><span class="line">        observer.onNext(&quot;ğŸ±&quot;)</span><br><span class="line">        observer.onNext(&quot;ğŸ­&quot;)</span><br><span class="line">        observer.onCompleted()</span><br><span class="line">        </span><br><span class="line">        return Disposables.create()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    sequenceThatErrors</span><br><span class="line">        .retry()</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- retry example ---</span><br><span class="line">ğŸ</span><br><span class="line">ğŸ</span><br><span class="line">ğŸŠ</span><br><span class="line">Error encountered</span><br><span class="line">ğŸ</span><br><span class="line">ğŸ</span><br><span class="line">ğŸŠ</span><br><span class="line">ğŸ¶</span><br><span class="line">ğŸ±</span><br><span class="line">ğŸ­</span><br></pre></td></tr></table></figure>
<h2 id="Debugging-Operators"><a href="#Debugging-Operators" class="headerlink" title="Debugging Operators"></a>Debugging Operators</h2><p>ä¸»è¦è®²è°ƒè¯•RXä»£ç çš„æ–¹æ³•ã€‚</p>
<h3 id="debug"><a href="#debug" class="headerlink" title="debug"></a><code>debug</code></h3><p>é€šè¿‡è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨å‘ç”Ÿé”™è¯¯çš„æ—¶å€™æ‰“å°å‡ºæ‰€æœ‰çš„è®¢é˜…è€…ï¼Œäº‹ä»¶ç­‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;debug&quot;) &#123;</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    var count = 1</span><br><span class="line">    </span><br><span class="line">    let sequenceThatErrors = Observable&lt;String&gt;.create &#123; observer in</span><br><span class="line">        observer.onNext(&quot;ğŸ&quot;)</span><br><span class="line">        observer.onNext(&quot;ğŸ&quot;)</span><br><span class="line">        observer.onNext(&quot;ğŸŠ&quot;)</span><br><span class="line">        </span><br><span class="line">        if count &lt; 5 &#123;</span><br><span class="line">            observer.onError(TestError.test)</span><br><span class="line">            print(&quot;Error encountered&quot;)</span><br><span class="line">            count += 1</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        observer.onNext(&quot;ğŸ¶&quot;)</span><br><span class="line">        observer.onNext(&quot;ğŸ±&quot;)</span><br><span class="line">        observer.onNext(&quot;ğŸ­&quot;)</span><br><span class="line">        observer.onCompleted()</span><br><span class="line">        </span><br><span class="line">        return Disposables.create()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    sequenceThatErrors</span><br><span class="line">        .retry(3)</span><br><span class="line">        .debug()</span><br><span class="line">        .subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">        .addDisposableTo(disposeBag)</span><br><span class="line">&#125;</span><br><span class="line">--- debug example ---</span><br><span class="line">2016-09-24 22:25:47.466: playground73.swift:42 (__lldb_expr_73) -&gt; subscribed</span><br><span class="line">2016-09-24 22:25:47.468: playground73.swift:42 (__lldb_expr_73) -&gt; Event next(ğŸ)</span><br><span class="line">ğŸ</span><br><span class="line">2016-09-24 22:25:47.469: playground73.swift:42 (__lldb_expr_73) -&gt; Event next(ğŸ)</span><br><span class="line">ğŸ</span><br><span class="line">2016-09-24 22:25:47.469: playground73.swift:42 (__lldb_expr_73) -&gt; Event next(ğŸŠ)</span><br><span class="line">ğŸŠ</span><br><span class="line">Error encountered</span><br><span class="line">2016-09-24 22:25:47.472: playground73.swift:42 (__lldb_expr_73) -&gt; Event next(ğŸ)</span><br><span class="line">ğŸ</span><br><span class="line">2016-09-24 22:25:47.472: playground73.swift:42 (__lldb_expr_73) -&gt; Event next(ğŸ)</span><br><span class="line">ğŸ</span><br><span class="line">2016-09-24 22:25:47.472: playground73.swift:42 (__lldb_expr_73) -&gt; Event next(ğŸŠ)</span><br><span class="line">ğŸŠ</span><br><span class="line">Error encountered</span><br><span class="line">2016-09-24 22:25:47.474: playground73.swift:42 (__lldb_expr_73) -&gt; Event next(ğŸ)</span><br><span class="line">ğŸ</span><br><span class="line">2016-09-24 22:25:47.474: playground73.swift:42 (__lldb_expr_73) -&gt; Event next(ğŸ)</span><br><span class="line">ğŸ</span><br><span class="line">2016-09-24 22:25:47.475: playground73.swift:42 (__lldb_expr_73) -&gt; Event next(ğŸŠ)</span><br><span class="line">ğŸŠ</span><br><span class="line">Error encountered</span><br><span class="line">2016-09-24 22:25:47.477: playground73.swift:42 (__lldb_expr_73) -&gt; Event error(test)</span><br><span class="line">Received unhandled error: /var/folders/49/3_69hmqj64j4g5p0pz56w72h0000gn/T/./lldb/25555/playground73.swift:43:__lldb_expr_73 -&gt; test</span><br><span class="line">2016-09-24 22:25:47.491: playground73.swift:42 (__lldb_expr_73) -&gt; isDisposed</span><br><span class="line">2016-09-24 22:25:47.491: playground73.swift:42 (__lldb_expr_73) -&gt; isDisposed</span><br></pre></td></tr></table></figure>
<h3 id="RxSwift-resourceCount"><a href="#RxSwift-resourceCount" class="headerlink" title="RxSwift.resourceCount"></a><code>RxSwift.resourceCount</code></h3><p>RXSwiftè¿˜æä¾›äº†æŸ¥çœ‹å½“å‰ç©¿ä»¶çš„æ‰€æœ‰RXèµ„æºä¸ªæ•°çš„æ–¹æ³•ï¼Œé€šè¿‡è¿™ä¸ªæ–¹æ³•å¯ä»¥æœ‰æ•ˆçš„è°ƒè¯•æ³„éœ²é—®é¢˜ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">example(&quot;RxSwift.resourceCount&quot;) &#123;</span><br><span class="line">    print(RxSwift.resourceCount)</span><br><span class="line">    let disposeBag = DisposeBag()</span><br><span class="line">    print(RxSwift.resourceCount)</span><br><span class="line">    let variable = Variable(&quot;ğŸ&quot;)</span><br><span class="line">    let subscription1 = variable.asObservable().subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">    </span><br><span class="line">    print(RxSwift.resourceCount)</span><br><span class="line">    </span><br><span class="line">    let subscription2 = variable.asObservable().subscribe(onNext: &#123; print($0) &#125;)</span><br><span class="line">    </span><br><span class="line">    print(RxSwift.resourceCount)</span><br><span class="line">    subscription1.dispose()</span><br><span class="line">    print(RxSwift.resourceCount)</span><br><span class="line">    subscription2.dispose()</span><br><span class="line">    print(RxSwift.resourceCount)</span><br><span class="line">&#125;</span><br><span class="line">print(RxSwift.resourceCount)</span><br><span class="line">--- RxSwift.resourceCount example ---</span><br><span class="line">0</span><br><span class="line">1</span><br><span class="line">ğŸ</span><br><span class="line">4</span><br><span class="line">ğŸ</span><br><span class="line">6</span><br><span class="line">5</span><br><span class="line">4</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<p><code>RxSwift.resourceCount</code>å¹¶ä¸æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œåœ¨releaseæ¨¡å¼ä¸‹è¯·ä¸è¦å¼€å¯å®ƒã€‚é€šè¿‡ä¸‹é¢2ç§æ–¹æ³•å¯ä»¥åœ¨å¼€å‘çš„æ—¶å€™å¼€å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">**CocoaPods**</span><br><span class="line"> 1. Add a `post_install` hook to your Podfile, e.g.:</span><br><span class="line"> </span><br><span class="line"> target &apos;AppTarget&apos; do</span><br><span class="line"> pod &apos;RxSwift&apos;</span><br><span class="line"> end</span><br><span class="line"> </span><br><span class="line"> post_install do |installer|</span><br><span class="line">     installer.pods_project.targets.each do |target|</span><br><span class="line">         if target.name == &apos;RxSwift&apos;</span><br><span class="line">             target.build_configurations.each do |config|</span><br><span class="line">                 if config.name == &apos;Debug&apos;</span><br><span class="line">                     config.build_settings[&apos;OTHER_SWIFT_FLAGS&apos;] ||= [&apos;-D&apos;, &apos;TRACE_RESOURCES&apos;]</span><br><span class="line">                 end</span><br><span class="line">             end</span><br><span class="line">         end</span><br><span class="line">     end</span><br><span class="line"> end</span><br><span class="line"> </span><br><span class="line"> 2. Run `pod update`.</span><br><span class="line"> 3. Build project (**Product** â†’ **Build**).</span><br><span class="line"> #</span><br><span class="line"> **Carthage**</span><br><span class="line"> 1. Run `carthage build --configuration Debug`.</span><br><span class="line"> 2. Build project (**Product** â†’ **Build**).</span><br></pre></td></tr></table></figure>
<p>æ–‡æ¡£æ›´æ–°ä¸­ï¼Œå†™çš„ä¸è¶³çš„åœ°æ–¹è¯·è°…è§£ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç•™ä¸‹æ‚¨å®è´µçš„æ„è§ï¼Œè°¢è°¢~~~</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>åšæŒåŸåˆ›æŠ€æœ¯åˆ†äº«ï¼Œæ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï¼</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>èµ</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/images/wechat-reward-image.jpg" alt="jamy_gu WeChat Pay"/>
          <p>å¾®ä¿¡æ‰“èµ</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/images/alipay-reward-image.jpg" alt="jamy_gu Alipay"/>
          <p>æ”¯ä»˜å®æ‰“èµ</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/swift/" rel="tag"># swift</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/09/20/swift-Sequence-map-flatmap/" rel="next" title="swift SequenceåŠmapï¼Œflatmapçš„å®ç°">
                <i class="fa fa-chevron-left"></i> swift SequenceåŠmapï¼Œflatmapçš„å®ç°
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/05/08/iOS-block/" rel="prev" title="iOS blockå†…éƒ¨å®ç°åˆ†æ">
                iOS blockå†…éƒ¨å®ç°åˆ†æ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="jamy_gu" />
          <p class="site-author-name" itemprop="name">jamy_gu</p>
           
              <p class="site-description motion-element" itemprop="description">Stay hungryï¼ŒStay foolishï¼</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/svenJamy" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/1805553781/profile?topnav=1&wvr=6" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Why-RXswift"><span class="nav-number">1.1.</span> <span class="nav-text">Why RXswift</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Concepts"><span class="nav-number">1.2.</span> <span class="nav-text">Concepts</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ›å»ºå’Œè®¢é˜…Observable"><span class="nav-number">2.</span> <span class="nav-text">åˆ›å»ºå’Œè®¢é˜…Observable</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#never"><span class="nav-number">2.1.</span> <span class="nav-text">never</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#empty"><span class="nav-number">2.2.</span> <span class="nav-text">empty</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#just"><span class="nav-number">2.3.</span> <span class="nav-text">just</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#of"><span class="nav-number">2.4.</span> <span class="nav-text">of</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#from"><span class="nav-number">2.5.</span> <span class="nav-text">from</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#create"><span class="nav-number">2.6.</span> <span class="nav-text">create</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#range"><span class="nav-number">2.7.</span> <span class="nav-text">range</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#repeatElement"><span class="nav-number">2.8.</span> <span class="nav-text">repeatElement</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#generate"><span class="nav-number">2.9.</span> <span class="nav-text">generate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deferred"><span class="nav-number">2.10.</span> <span class="nav-text">deferred</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#error"><span class="nav-number">2.11.</span> <span class="nav-text">error</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Subjects"><span class="nav-number">3.</span> <span class="nav-text">Subjects</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PublishSubject"><span class="nav-number">3.1.</span> <span class="nav-text">PublishSubject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ReplaySubject"><span class="nav-number">3.2.</span> <span class="nav-text">ReplaySubject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BehaviorSubject"><span class="nav-number">3.3.</span> <span class="nav-text">BehaviorSubject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Variable"><span class="nav-number">3.4.</span> <span class="nav-text">Variable</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Combination-Operators"><span class="nav-number">4.</span> <span class="nav-text">Combination Operators</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#startWith"><span class="nav-number">4.1.</span> <span class="nav-text">startWith</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#merge"><span class="nav-number">4.2.</span> <span class="nav-text">merge</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#zip"><span class="nav-number">4.3.</span> <span class="nav-text">zip</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#combineLatest"><span class="nav-number">4.4.</span> <span class="nav-text">combineLatest</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#switchLatest"><span class="nav-number">4.5.</span> <span class="nav-text">switchLatest</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Transforming-Operators"><span class="nav-number">5.</span> <span class="nav-text">Transforming Operators</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#map"><span class="nav-number">5.1.</span> <span class="nav-text">map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#flatMapå’ŒflatMapLatest"><span class="nav-number">5.2.</span> <span class="nav-text">flatMapå’ŒflatMapLatest</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#scan"><span class="nav-number">5.3.</span> <span class="nav-text">scan</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Filtering-and-Conditional"><span class="nav-number">6.</span> <span class="nav-text">Filtering and Conditional</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#filter"><span class="nav-number">6.1.</span> <span class="nav-text">filter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#distinctUntilChanged"><span class="nav-number">6.2.</span> <span class="nav-text">distinctUntilChanged</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#elementAt"><span class="nav-number">6.3.</span> <span class="nav-text">elementAt</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#single"><span class="nav-number">6.4.</span> <span class="nav-text">single</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#take"><span class="nav-number">6.5.</span> <span class="nav-text">take</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#takeLast"><span class="nav-number">6.6.</span> <span class="nav-text">takeLast</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#takeWhile"><span class="nav-number">6.7.</span> <span class="nav-text">takeWhile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#takeUntil"><span class="nav-number">6.8.</span> <span class="nav-text">takeUntil</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#skip"><span class="nav-number">6.9.</span> <span class="nav-text">skip</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#skipWhile"><span class="nav-number">6.10.</span> <span class="nav-text">skipWhile</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mathematical-and-Aggregate"><span class="nav-number">7.</span> <span class="nav-text">Mathematical and Aggregate</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#toArray"><span class="nav-number">7.1.</span> <span class="nav-text">toArray</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#reduce"><span class="nav-number">7.2.</span> <span class="nav-text">reduce</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#concat"><span class="nav-number">7.3.</span> <span class="nav-text">concat</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Error-Handling"><span class="nav-number">8.</span> <span class="nav-text">Error Handling</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#catchErrorJustReturn"><span class="nav-number">8.1.</span> <span class="nav-text">catchErrorJustReturn</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#catchError"><span class="nav-number">8.2.</span> <span class="nav-text">catchError</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#retry"><span class="nav-number">8.3.</span> <span class="nav-text">retry</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Debugging-Operators"><span class="nav-number">9.</span> <span class="nav-text">Debugging Operators</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#debug"><span class="nav-number">9.1.</span> <span class="nav-text">debug</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RxSwift-resourceCount"><span class="nav-number">9.2.</span> <span class="nav-text">RxSwift.resourceCount</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">jamy.gush</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://jamy-gu.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://yoursite.com/2016/09/24/RxSwift-introduce/';
          this.page.identifier = '2016/09/24/RxSwift-introduce/';
          this.page.title = 'RxSwiftç³»åˆ—ç¬”è®°-å…¥é—¨';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://jamy-gu.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  













  





  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  

</body>
</html>
